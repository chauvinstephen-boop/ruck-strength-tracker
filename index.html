<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>8-Week Ruck & Strength Tracker</title>
<link rel="manifest" href="manifest.json">
<style>
:root { --primary:#2563eb; --bg:#f8fafc; --card:#fff; --text:#1e293b; --border:#e2e8f0; --success:#10b981; }
body[data-theme="dark"] { --bg:#0f172a; --card:#1e293b; --text:#f8fafc; --border:#334155; }
body { font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif; background-color:var(--bg); color:var(--text); margin:0; padding:0; padding-bottom:120px; }
header { background:var(--primary); color:white; padding:1rem; position:sticky; top:0; z-index:100; display:flex; justify-content:space-between; align-items:center; }
button.toggle-theme { background:white; color:var(--primary); border:none; padding:6px 12px; border-radius:6px; font-weight:600; cursor:pointer; }
.controls { padding:1rem; display:flex; gap:10px; justify-content:space-between; align-items:center; background:white; border-bottom:1px solid var(--border); }
select,input[type="date"] { padding:8px; border:1px solid var(--border); border-radius:6px; font-size:14px; }
.container { max-width:600px; margin:0 auto; padding:1rem; }
.summary-dashboard { display:grid; grid-template-columns:repeat(4,1fr); gap:10px; margin-bottom:15px; }
.summary-card { background:var(--card); border:1px solid var(--border); border-radius:8px; padding:8px; text-align:center; font-size:0.8rem; }
.summary-progress { height:6px; background:#e2e8f0; border-radius:3px; overflow:hidden; margin-top:4px; }
.summary-fill { height:100%; background:var(--success); width:0%; }
.exercise-card { background:var(--card); border-radius:12px; padding:1rem; margin-bottom:1rem; box-shadow:0 1px 3px rgba(0,0,0,0.05); border:1px solid var(--border); }
.exercise-card.completed { border-left:5px solid var(--success); background:#f0fdf4; }
.exercise-header { display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:0.5rem; }
.exercise-name { font-weight:700; font-size:1.1rem; }
.exercise-details { color:#64748b; font-size:0.9rem; margin-bottom:0.5rem; }
.input-group { margin-top:10px; display:flex; gap:10px; }
input[type="text"] { width:100%; padding:8px; border:1px solid var(--border); border-radius:6px; font-size:14px; }
.nav-bar { position:fixed; bottom:0; left:0; right:0; background:white; border-top:1px solid var(--border); padding:1rem; display:flex; justify-content:space-around; max-width:600px; margin:0 auto; }
button.nav-btn { background:var(--primary); color:white; border:none; padding:10px 20px; border-radius:8px; font-weight:600; cursor:pointer; }
.export-btn { margin-top:10px; background:var(--primary); color:white; padding:8px 12px; border:none; border-radius:6px; cursor:pointer; }
</style>
</head>
<body>
<header>
<div><h1 id="app-title">Training Tracker</h1><div class="subtitle" id="current-date-display">Today</div></div>
<button class="toggle-theme" onclick="toggleTheme()">Dark Mode</button>
</header>
<div class="controls" style="max-width:600px;margin:0 auto;">
<div><label style="font-size:0.8rem;color:#64748b">Start Date:</label><input type="date" id="start-date-picker"></div>
<div><label style="font-size:0.8rem;color:#64748b">Jump to:</label><select id="week-selector"><option value="1">Week 1</option><option value="2">Week 2</option><option value="3">Week 3</option><option value="4">Week 4</option><option value="5">Week 5</option><option value="6">Week 6</option><option value="7">Week 7</option><option value="8">Week 8</option></select></div>
</div>
<div class="container">
<div class="summary-dashboard" id="summary-dashboard"></div>
<button class="export-btn" onclick="exportNotes()">Export Notes</button>
<div id="workout-container"></div>
</div>
<div class="nav-bar"><button class="nav-btn" onclick="changeDay(-1)">← Prev</button><button class="nav-btn" onclick="jumpToToday()">Today</button><button class="nav-btn" onclick="changeDay(1)">Next →</button></div>
<script>
function toggleTheme(){const body=document.body;const current=body.getAttribute('data-theme');if(current==='dark'){body.removeAttribute('data-theme');localStorage.setItem('theme','light');}else{body.setAttribute('data-theme','dark');localStorage.setItem('theme','dark');}}
if(localStorage.getItem('theme')==='dark'){document.body.setAttribute('data-theme','dark');}
function exportNotes(){let notes='Workout Notes:
';for(let i=0;i<localStorage.length;i++){const key=localStorage.key(i);if(key.endsWith('_note')){notes+=key+': '+localStorage.getItem(key)+'
';}}const blob=new Blob([notes],{type:'text/plain'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download='ruck_notes.txt';a.click();URL.revokeObjectURL(url);}
function updateSummary(){const dashboard=document.getElementById('summary-dashboard');dashboard.innerHTML='';for(let w=1;w<=8;w++){let total=0,done=0;for(let i=0;i<localStorage.length;i++){const key=localStorage.key(i);if(key.startsWith('w'+w+'-')&&key.endsWith('_done')){total++;if(localStorage.getItem(key)==='true'){done++;}}}const percent=total?Math.round((done/total)*100):0;const card=document.createElement('div');card.className='summary-card';card.innerHTML='Week '+w+'<div class="summary-progress"><div class="summary-fill" style="width:'+percent+'%"></div></div>'+percent+'%';dashboard.appendChild(card);}}
updateSummary();
</script>
</body>
</html>